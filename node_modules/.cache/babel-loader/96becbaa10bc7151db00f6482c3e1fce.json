{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/iulian/IdeaProjects/dashBoardBarberShop/src/pages/components/ModifyProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport axios from \"../../api/axios\";\nimport apiRoute from \"../../api/apiRoute\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/style.css\";\n\nfunction FormProfileModify({\n  clientId\n}) {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    control,\n    errors,\n    reset\n  } = useForm();\n  const history = useHistory();\n  useEffect(() => {\n    async function fetchData() {\n      await axios.get(apiRoute.clients + `/${clientId}`).then(res => {\n        reset(res.data);\n      }).catch(error => {\n        history.push({\n          pathname: \"/error\",\n          state: {\n            detail: error.message\n          }\n        });\n      });\n    }\n\n    fetchData();\n  }, [reset, clientId, history]);\n\n  const onSubmit = formData => {\n    let updateData = {\n      clientId: clientId,\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      phoneNo: formData.phoneNo\n    };\n    updateClient(updateData).then(res => {\n      localStorage.setItem(\"message\", `Client profile ID:${res.clientId} updated`);\n      history.go(0);\n    }).catch(error => {\n      toast.error(\"Something went wrong! Modify profile\");\n      history.push({\n        pathname: \"/error\",\n        state: {\n          detail: error.message\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form-horizontal\",\n    onSubmit: handleSubmit(onSubmit),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group row\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputFirstName\",\n        className: \"col-sm-2 col-form-label\",\n        children: \"First Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"inputFirstName\",\n          placeholder: \"First Name\",\n          name: \"firstName\",\n          ref: register({\n            required: {\n              message: \"This field is required\",\n              value: true\n            },\n            maxLength: {\n              message: \"This field cannot exceed 20 characters\",\n              value: 20\n            },\n            minLength: {\n              message: \"This field cannot be less then 3 characters\",\n              value: 3\n            },\n            pattern: {\n              message: \"Alphabetical characters only\",\n              value: /^[A-Za-z]+$/i\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), errors.firstName && /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-danger\",\n          children: errors.firstName.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group row\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputLastName\",\n        className: \"col-sm-2 col-form-label\",\n        children: \"Last Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"inputLastName\",\n          placeholder: \"Last Name\",\n          name: \"lastName\",\n          ref: register({\n            required: {\n              message: \"This field is required\",\n              value: true\n            },\n            maxLength: {\n              message: \"This field cannot exceed 20 characters\",\n              value: 20\n            },\n            minLength: {\n              message: \"This field cannot be less then 3 characters\",\n              value: 3\n            },\n            pattern: {\n              message: \"Alphabetical characters only\",\n              value: /^[A-Za-z]+$/i\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), errors.lastName && /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-danger\",\n          children: errors.lastName.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group row\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputEmail\",\n        className: \"col-sm-2 col-form-label\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          name: \"email\",\n          id: \"inputEmail\",\n          placeholder: \"Email\",\n          ref: register({\n            required: {\n              message: \"This field is required\",\n              value: true\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), errors.email && /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-danger\",\n          children: errors.email.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group row\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputPhoneNo\",\n        className: \"col-sm-2 col-form-label\",\n        children: \"Phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-10\",\n        children: [errors.phoneNo && /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-danger\",\n          children: \"Please write the phone !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"phoneNo\",\n          de: true,\n          control: control,\n          render: ({\n            onSubmit,\n            onChange,\n            value\n          }) => /*#__PURE__*/_jsxDEV(PhoneInput, {\n            placeholder: \"Enter phone number\",\n            country: \"ro\",\n            onlyCountries: [\"ro\"],\n            countryCodeEditable: false,\n            onChange: onChange,\n            onSubmit: onSubmit,\n            value: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this),\n          rules: {\n            validate: data => {\n              // Regex Romania country\n              const regex = new RegExp(/^(\\+?4?0)\\s?7\\d{2}(\\/|\\s|\\.|-)?\\d{3}(\\s|\\.|-)?\\d{3}$/);\n              return regex.test(data);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"offset-sm-2 col-sm-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FormProfileModify, \"VsBhcUwL9Qiwl+E56ffT3ogN3/k=\", false, function () {\n  return [useForm, useHistory];\n});\n\n_c = FormProfileModify;\nexport default FormProfileModify;\n\nasync function updateClient(updateData) {\n  const dataResponse = await axios.put(apiRoute.clients, updateData);\n  return dataResponse.data;\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"FormProfileModify\");","map":{"version":3,"sources":["/home/iulian/IdeaProjects/dashBoardBarberShop/src/pages/components/ModifyProfile.js"],"names":["React","useEffect","useForm","Controller","axios","apiRoute","useHistory","toast","PhoneInput","FormProfileModify","clientId","register","handleSubmit","control","errors","reset","history","fetchData","get","clients","then","res","data","catch","error","push","pathname","state","detail","message","onSubmit","formData","updateData","firstName","lastName","email","phoneNo","updateClient","localStorage","setItem","go","required","value","maxLength","minLength","pattern","onChange","validate","regex","RegExp","test","dataResponse","put"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,iBAApC;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAO,mCAAP;;AAEA,SAASC,iBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAAyC;AAAA;;AACvC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA,OAA1B;AAAmCC,IAAAA,MAAnC;AAA2CC,IAAAA;AAA3C,MAAqDb,OAAO,EAAlE;AAEA,QAAMc,OAAO,GAAGV,UAAU,EAA1B;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAegB,SAAf,GAA2B;AACzB,YAAMb,KAAK,CACRc,GADG,CACCb,QAAQ,CAACc,OAAT,GAAoB,IAAGT,QAAS,EADjC,EAEHU,IAFG,CAEGC,GAAD,IAAS;AACbN,QAAAA,KAAK,CAACM,GAAG,CAACC,IAAL,CAAL;AACD,OAJG,EAKHC,KALG,CAKIC,KAAD,IAAW;AAChBR,QAAAA,OAAO,CAACS,IAAR,CAAa;AACXC,UAAAA,QAAQ,EAAE,QADC;AAEXC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAEJ,KAAK,CAACK;AAAhB;AAFI,SAAb;AAID,OAVG,CAAN;AAWD;;AACDZ,IAAAA,SAAS;AACV,GAfQ,EAeN,CAACF,KAAD,EAAQL,QAAR,EAAkBM,OAAlB,CAfM,CAAT;;AAiBA,QAAMc,QAAQ,GAAIC,QAAD,IAAc;AAC7B,QAAIC,UAAU,GAAG;AACftB,MAAAA,QAAQ,EAAEA,QADK;AAEfuB,MAAAA,SAAS,EAAEF,QAAQ,CAACE,SAFL;AAGfC,MAAAA,QAAQ,EAAEH,QAAQ,CAACG,QAHJ;AAIfC,MAAAA,KAAK,EAAEJ,QAAQ,CAACI,KAJD;AAKfC,MAAAA,OAAO,EAAEL,QAAQ,CAACK;AALH,KAAjB;AAOAC,IAAAA,YAAY,CAACL,UAAD,CAAZ,CACGZ,IADH,CACSC,GAAD,IAAS;AACbiB,MAAAA,YAAY,CAACC,OAAb,CACE,SADF,EAEG,qBAAoBlB,GAAG,CAACX,QAAS,UAFpC;AAIAM,MAAAA,OAAO,CAACwB,EAAR,CAAW,CAAX;AACD,KAPH,EAQGjB,KARH,CAQUC,KAAD,IAAW;AAChBjB,MAAAA,KAAK,CAACiB,KAAN,CAAY,sCAAZ;AACAR,MAAAA,OAAO,CAACS,IAAR,CAAa;AACXC,QAAAA,QAAQ,EAAE,QADC;AAEXC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAEJ,KAAK,CAACK;AAAhB;AAFI,OAAb;AAID,KAdH;AAeD,GAvBD;;AAyBA,sBACE;AAAM,IAAA,SAAS,EAAC,iBAAhB;AAAkC,IAAA,QAAQ,EAAEjB,YAAY,CAACkB,QAAD,CAAxD;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACE;AAAO,QAAA,OAAO,EAAC,gBAAf;AAAgC,QAAA,SAAS,EAAC,yBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,SAAS,EAAC,cAFZ;AAGE,UAAA,EAAE,EAAC,gBAHL;AAIE,UAAA,WAAW,EAAC,YAJd;AAKE,UAAA,IAAI,EAAC,WALP;AAME,UAAA,GAAG,EAAEnB,QAAQ,CAAC;AACZ8B,YAAAA,QAAQ,EAAE;AAAEZ,cAAAA,OAAO,EAAE,wBAAX;AAAqCa,cAAAA,KAAK,EAAE;AAA5C,aADE;AAEZC,YAAAA,SAAS,EAAE;AACTd,cAAAA,OAAO,EAAE,wCADA;AAETa,cAAAA,KAAK,EAAE;AAFE,aAFC;AAMZE,YAAAA,SAAS,EAAE;AACTf,cAAAA,OAAO,EAAE,6CADA;AAETa,cAAAA,KAAK,EAAE;AAFE,aANC;AAUZG,YAAAA,OAAO,EAAE;AACPhB,cAAAA,OAAO,EAAE,8BADF;AAEPa,cAAAA,KAAK,EAAE;AAFA;AAVG,WAAD;AANf;AAAA;AAAA;AAAA;AAAA,gBADF,EAuBG5B,MAAM,CAACmB,SAAP,iBACC;AAAO,UAAA,SAAS,EAAC,aAAjB;AAAA,oBAAgCnB,MAAM,CAACmB,SAAP,CAAiBJ;AAAjD;AAAA;AAAA;AAAA;AAAA,gBAxBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAiCE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACE;AAAO,QAAA,OAAO,EAAC,eAAf;AAA+B,QAAA,SAAS,EAAC,yBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,SAAS,EAAC,cAFZ;AAGE,UAAA,EAAE,EAAC,eAHL;AAIE,UAAA,WAAW,EAAC,WAJd;AAKE,UAAA,IAAI,EAAC,UALP;AAME,UAAA,GAAG,EAAElB,QAAQ,CAAC;AACZ8B,YAAAA,QAAQ,EAAE;AAAEZ,cAAAA,OAAO,EAAE,wBAAX;AAAqCa,cAAAA,KAAK,EAAE;AAA5C,aADE;AAEZC,YAAAA,SAAS,EAAE;AACTd,cAAAA,OAAO,EAAE,wCADA;AAETa,cAAAA,KAAK,EAAE;AAFE,aAFC;AAMZE,YAAAA,SAAS,EAAE;AACTf,cAAAA,OAAO,EAAE,6CADA;AAETa,cAAAA,KAAK,EAAE;AAFE,aANC;AAUZG,YAAAA,OAAO,EAAE;AACPhB,cAAAA,OAAO,EAAE,8BADF;AAEPa,cAAAA,KAAK,EAAE;AAFA;AAVG,WAAD;AANf;AAAA;AAAA;AAAA;AAAA,gBADF,EAuBG5B,MAAM,CAACoB,QAAP,iBACC;AAAO,UAAA,SAAS,EAAC,aAAjB;AAAA,oBAAgCpB,MAAM,CAACoB,QAAP,CAAgBL;AAAhD;AAAA;AAAA;AAAA;AAAA,gBAxBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAjCF,eAiEE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACE;AAAO,QAAA,OAAO,EAAC,YAAf;AAA4B,QAAA,SAAS,EAAC,yBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,SAAS,EAAC,cAFZ;AAGE,UAAA,IAAI,EAAC,OAHP;AAIE,UAAA,EAAE,EAAC,YAJL;AAKE,UAAA,WAAW,EAAC,OALd;AAME,UAAA,GAAG,EAAElB,QAAQ,CAAC;AACZ8B,YAAAA,QAAQ,EAAE;AAAEZ,cAAAA,OAAO,EAAE,wBAAX;AAAqCa,cAAAA,KAAK,EAAE;AAA5C;AADE,WAAD;AANf;AAAA;AAAA;AAAA;AAAA,gBADF,EAWG5B,MAAM,CAACqB,KAAP,iBACC;AAAO,UAAA,SAAS,EAAC,aAAjB;AAAA,oBAAgCrB,MAAM,CAACqB,KAAP,CAAaN;AAA7C;AAAA;AAAA;AAAA;AAAA,gBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAjEF,eAqFE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACE;AAAO,QAAA,OAAO,EAAC,cAAf;AAA8B,QAAA,SAAS,EAAC,yBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,mBACGf,MAAM,CAACsB,OAAP,iBACC;AAAO,UAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAKE,QAAC,UAAD;AACE,UAAA,IAAI,EAAC,SADP;AAEE,UAAA,EAAE,MAFJ;AAGE,UAAA,OAAO,EAAEvB,OAHX;AAIE,UAAA,MAAM,EAAE,CAAC;AAAEiB,YAAAA,QAAF;AAAYgB,YAAAA,QAAZ;AAAsBJ,YAAAA;AAAtB,WAAD,kBACN,QAAC,UAAD;AACE,YAAA,WAAW,EAAC,oBADd;AAEE,YAAA,OAAO,EAAC,IAFV;AAGE,YAAA,aAAa,EAAE,CAAC,IAAD,CAHjB;AAIE,YAAA,mBAAmB,EAAE,KAJvB;AAKE,YAAA,QAAQ,EAAEI,QALZ;AAME,YAAA,QAAQ,EAAEhB,QANZ;AAOE,YAAA,KAAK,EAAEY;AAPT;AAAA;AAAA;AAAA;AAAA,kBALJ;AAeE,UAAA,KAAK,EAAE;AACLK,YAAAA,QAAQ,EAAGzB,IAAD,IAAU;AAClB;AACA,oBAAM0B,KAAK,GAAG,IAAIC,MAAJ,CACZ,sDADY,CAAd;AAIA,qBAAOD,KAAK,CAACE,IAAN,CAAW5B,IAAX,CAAP;AACD;AARI;AAfT;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YArFF,eA0HE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,+BACE;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YA1HF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoID;;GAnLQb,iB;UACoDP,O,EAE3CI,U;;;KAHTG,iB;AAqLT,eAAeA,iBAAf;;AAEA,eAAe4B,YAAf,CAA4BL,UAA5B,EAAwC;AACtC,QAAMmB,YAAY,GAAG,MAAM/C,KAAK,CAACgD,GAAN,CAAU/C,QAAQ,CAACc,OAAnB,EAA4Ba,UAA5B,CAA3B;AACA,SAAOmB,YAAY,CAAC7B,IAApB;AACD","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport axios from \"../../api/axios\";\nimport apiRoute from \"../../api/apiRoute\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/style.css\";\n\nfunction FormProfileModify({ clientId }) {\n  const { register, handleSubmit, control, errors, reset } = useForm();\n\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchData() {\n      await axios\n        .get(apiRoute.clients + `/${clientId}`)\n        .then((res) => {\n          reset(res.data);\n        })\n        .catch((error) => {\n          history.push({\n            pathname: \"/error\",\n            state: { detail: error.message },\n          });\n        });\n    }\n    fetchData();\n  }, [reset, clientId, history]);\n\n  const onSubmit = (formData) => {\n    let updateData = {\n      clientId: clientId,\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      phoneNo: formData.phoneNo,\n    };\n    updateClient(updateData)\n      .then((res) => {\n        localStorage.setItem(\n          \"message\",\n          `Client profile ID:${res.clientId} updated`\n        );\n        history.go(0);\n      })\n      .catch((error) => {\n        toast.error(\"Something went wrong! Modify profile\");\n        history.push({\n          pathname: \"/error\",\n          state: { detail: error.message },\n        });\n      });\n  };\n\n  return (\n    <form className=\"form-horizontal\" onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"form-group row\">\n        <label htmlFor=\"inputFirstName\" className=\"col-sm-2 col-form-label\">\n          First Name\n        </label>\n        <div className=\"col-sm-10\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"inputFirstName\"\n            placeholder=\"First Name\"\n            name=\"firstName\"\n            ref={register({\n              required: { message: \"This field is required\", value: true },\n              maxLength: {\n                message: \"This field cannot exceed 20 characters\",\n                value: 20,\n              },\n              minLength: {\n                message: \"This field cannot be less then 3 characters\",\n                value: 3,\n              },\n              pattern: {\n                message: \"Alphabetical characters only\",\n                value: /^[A-Za-z]+$/i,\n              },\n            })}\n          />\n          {errors.firstName && (\n            <small className=\"text-danger\">{errors.firstName.message}</small>\n          )}\n        </div>\n      </div>\n      <div className=\"form-group row\">\n        <label htmlFor=\"inputLastName\" className=\"col-sm-2 col-form-label\">\n          Last Name\n        </label>\n        <div className=\"col-sm-10\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"inputLastName\"\n            placeholder=\"Last Name\"\n            name=\"lastName\"\n            ref={register({\n              required: { message: \"This field is required\", value: true },\n              maxLength: {\n                message: \"This field cannot exceed 20 characters\",\n                value: 20,\n              },\n              minLength: {\n                message: \"This field cannot be less then 3 characters\",\n                value: 3,\n              },\n              pattern: {\n                message: \"Alphabetical characters only\",\n                value: /^[A-Za-z]+$/i,\n              },\n            })}\n          />\n          {errors.lastName && (\n            <small className=\"text-danger\">{errors.lastName.message}</small>\n          )}\n        </div>\n      </div>\n      <div className=\"form-group row\">\n        <label htmlFor=\"inputEmail\" className=\"col-sm-2 col-form-label\">\n          Email\n        </label>\n        <div className=\"col-sm-10\">\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            name=\"email\"\n            id=\"inputEmail\"\n            placeholder=\"Email\"\n            ref={register({\n              required: { message: \"This field is required\", value: true },\n            })}\n          />\n          {errors.email && (\n            <small className=\"text-danger\">{errors.email.message}</small>\n          )}\n        </div>\n      </div>\n      <div className=\"form-group row\">\n        <label htmlFor=\"inputPhoneNo\" className=\"col-sm-2 col-form-label\">\n          Phone\n        </label>\n        <div className=\"col-sm-10\">\n          {errors.phoneNo && (\n            <small className=\"text-danger\">Please write the phone !</small>\n          )}\n\n          <Controller\n            name=\"phoneNo\"\n            de\n            control={control}\n            render={({ onSubmit, onChange, value }) => (\n              <PhoneInput\n                placeholder=\"Enter phone number\"\n                country=\"ro\"\n                onlyCountries={[\"ro\"]}\n                countryCodeEditable={false}\n                onChange={onChange}\n                onSubmit={onSubmit}\n                value={value}\n              />\n            )}\n            rules={{\n              validate: (data) => {\n                // Regex Romania country\n                const regex = new RegExp(\n                  /^(\\+?4?0)\\s?7\\d{2}(\\/|\\s|\\.|-)?\\d{3}(\\s|\\.|-)?\\d{3}$/\n                );\n\n                return regex.test(data);\n              },\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"form-group row\">\n        <div className=\"offset-sm-2 col-sm-10\">\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Update\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default FormProfileModify;\n\nasync function updateClient(updateData) {\n  const dataResponse = await axios.put(apiRoute.clients, updateData);\n  return dataResponse.data;\n}\n"]},"metadata":{},"sourceType":"module"}